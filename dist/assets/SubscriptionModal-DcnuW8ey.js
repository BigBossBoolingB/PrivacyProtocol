import{j as e}from"./ui-components-BzeP3NEV.js";import{a as s}from"./react-vendor-pFbjcDKR.js";import{D as a,a as t,b as l,c as i,C as r}from"./dialog-B-cglD8w.js";import{c as n,s as c,L as m,d,i as o,U as x,S as h,X as p,B as y,m as u}from"./index-DSn6Arvu.js";import{C as j,a as g,B as N,b as f,c as b}from"./badge-BMwPockq.js";import{L as v}from"./label-DqmJy21e.js";import{Z as w}from"./zap-BJD73Sl4.js";import{T as C}from"./trending-up-Il02X4LE.js";
/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=n("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);function P({open:n,onClose:P}){const[k,S]=s.useState(null),[M,D]=s.useState(null),[z,A]=s.useState(null),[F,U]=s.useState(!0),[H,L]=s.useState(!1),[$,B]=s.useState("stripe");s.useEffect(()=>{n&&T()},[n]);const T=async()=>{try{const{data:e}=await c({action:"get_subscription"});S(e.subscription),D(e.features),A(e.pricing)}catch(e){}finally{U(!1)}},q="premium"===k?.plan_type&&"active"===k?.status,E="trial"===k?.status&&new Date<=new Date(k?.trial_end),I=[{name:"Unlimited privacy analyses",icon:_,premium:!0},{name:"Real-time policy monitoring",icon:o,premium:!0},{name:"Advanced AI insights",icon:w,premium:!0},{name:"Community intelligence",icon:x,premium:!0},{name:"Export reports (PDF/CSV)",icon:_,premium:!0},{name:"Custom privacy profiles",icon:h,premium:!0},{name:"Priority support",icon:d,premium:!0},{name:"Basic risk analysis",icon:C,premium:!1},{name:"Clause identification",icon:h,premium:!1}];return F?e.jsx(a,{open:n,onOpenChange:P,children:e.jsx(t,{className:"max-w-4xl bg-gray-900 border-gray-800 text-white",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(m,{className:"w-8 h-8 animate-spin text-blue-400"})})})}):e.jsx(a,{open:n,onOpenChange:P,children:e.jsxs(t,{className:"max-w-4xl bg-gray-900 border-gray-800 text-white",children:[e.jsx(l,{children:e.jsx(i,{className:"text-2xl font-bold text-center",children:q?"Premium Subscription":"Upgrade to Premium"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(j,{className:"bg-gray-800/50 border-gray-700",children:e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Current Plan"}),e.jsx(N,{className:q?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400",children:q?"Premium":E?"Trial":"Free"})]}),e.jsx("p",{className:"text-gray-400",children:q?`Active until ${new Date(k.current_period_end).toLocaleDateString()}`:E?`Trial ends ${new Date(k.trial_end).toLocaleDateString()}`:"Limited access to features"})]}),q&&e.jsx(d,{className:"w-8 h-8 text-yellow-400"})]}),M&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Monthly Analyses"}),e.jsxs("span",{className:"text-white",children:[k.monthly_analyses_used||0,M.unlimited_analyses?" (Unlimited)":` / ${M.monthly_analyses_limit}`]})]}),!M.unlimited_analyses&&e.jsx("div",{className:"mt-2 w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,(k.monthly_analyses_used||0)/M.monthly_analyses_limit*100)}%`}})})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(j,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(f,{children:e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"Free"}),e.jsxs("div",{className:"text-3xl font-bold mt-2",children:["$0",e.jsx("span",{className:"text-sm text-gray-400",children:"/month"})]})]})}),e.jsx(g,{className:"space-y-4",children:e.jsxs("ul",{className:"space-y-3",children:[I.filter(e=>!e.premium).map((s,a)=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(r,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-gray-300",children:s.name})]},a)),e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-500",children:"2 analyses per month"})]})]})})]}),e.jsxs(j,{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 border-blue-500/30 relative",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(N,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1",children:"Most Popular"})}),e.jsx(f,{children:e.jsxs(b,{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"Premium"}),e.jsxs("div",{className:"text-3xl font-bold mt-2",children:["$1.99",e.jsx("span",{className:"text-sm text-gray-400",children:"/month"})]}),e.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Cancel anytime"})]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsx("ul",{className:"space-y-3",children:I.map((s,a)=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(r,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:s.premium?"text-white":"text-gray-300",children:s.name}),s.premium&&e.jsx(d,{className:"w-4 h-4 text-yellow-400"})]},a))}),!q&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{className:"text-sm text-gray-400",children:"Choose Payment Method:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(y,{variant:"stripe"===$?"default":"outline",onClick:()=>B("stripe"),className:"h-12 flex items-center justify-center gap-2",disabled:H,children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"})}),"Credit Card"]}),e.jsxs(y,{variant:"paypal"===$?"default":"outline",onClick:()=>B("paypal"),className:"h-12 flex items-center justify-center gap-2",disabled:H,children:[e.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.028-.026.056-.054.115a6.997 6.997 0 0 1-5.78 5.506l-.827.051-.81 5.130c-.049.314.195.572.514.572H15.4c.456 0 .84-.334.915-.788l.394-2.497h.782c3.747 0 6.549-1.524 7.389-5.93.394-2.068.156-3.79-.658-5.118z"})}),"PayPal"]})]})]}),e.jsx(y,{onClick:()=>(async(e="stripe")=>{L(!0);try{let s;if("paypal"===e){if(s=await c({action:"create_paypal_checkout_session"}),s.data.success&&s.data.approval_url)return void(window.location.href=s.data.approval_url)}else s=await c({action:"create_checkout_session"}),s.data.success&&await T()}catch(s){}finally{L(!1)}})($),disabled:H,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium py-3 rounded-xl mt-6",children:H?e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Upgrade with ","paypal"===$?"PayPal":"Credit Card"]})})]})]})]})]}),e.jsxs(j,{className:"bg-gray-800/50 border-gray-700",children:[e.jsx(f,{children:e.jsx(b,{className:"text-center",children:"Why Upgrade to Premium?"})}),e.jsx(g,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-blue-400"})}),e.jsx("h4",{className:"font-semibold mb-2",children:"Unlimited Analysis"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Analyze as many privacy policies as you need without monthly limits"})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-purple-500/20 rounded-full flex items-center justify-center",children:e.jsx(o,{className:"w-6 h-6 text-purple-400"})}),e.jsx("h4",{className:"font-semibold mb-2",children:"Real-time Monitoring"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Get instant alerts when privacy policies change or new risks emerge"})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx(x,{className:"w-6 h-6 text-green-400"})}),e.jsx("h4",{className:"font-semibold mb-2",children:"Community Insights"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Access collective intelligence and trending privacy risks"})]})]})})]}),e.jsxs("div",{className:"text-center text-sm text-gray-400",children:[e.jsx(h,{className:"w-4 h-4 inline mr-2"}),"30-day money-back guarantee • Secure payments • Cancel anytime"]})]})]})})}export{_ as F,P as S};
