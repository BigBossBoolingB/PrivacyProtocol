import{r as e,s as t,p as a,j as r,d as s,t as n,e as i,u as o,v as l,m as c,f as d,w as u,x as m,y as f,z as p}from"./ui-components-BzeP3NEV.js";import{a as h}from"./react-vendor-pFbjcDKR.js";import{d as x,U as v,C as y,b,c as g,a as j,B as w}from"./badge-BMwPockq.js";import{c as N,j as S,L as k,h as _,m as R,S as P,k as E,i as C,B as D}from"./index-DSn6Arvu.js";import{L as M}from"./label-DqmJy21e.js";import{A,a as I}from"./alert-BeifeO2q.js";import{T as L}from"./target-ClL8scOb.js";import"./utils-BBBj0rcX.js";import"./form-utils-5MXy8GNC.js";
/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=N("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),V=N("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var F="Radio",[H,K]=s(F),[q,T]=H(F),B=h.forwardRef((e,t)=>{const{__scopeRadio:a,name:s,checked:n=!1,required:l,disabled:d,value:u="on",onCheck:m,form:f,...p}=e,[x,v]=h.useState(null),y=o(t,e=>v(e)),b=h.useRef(!1),g=!x||(f||!!x.closest("form"));return r.jsxs(q,{scope:a,checked:n,disabled:d,children:[r.jsx(i.button,{type:"button",role:"radio","aria-checked":n,"data-state":X(n),"data-disabled":d?"":void 0,disabled:d,value:u,...p,ref:y,onClick:c(e.onClick,e=>{n||m?.(),g&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),g&&r.jsx(G,{control:x,bubbles:!b.current,name:s,value:u,checked:n,required:l,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});B.displayName=F;var O="RadioIndicator",U=h.forwardRef((e,t)=>{const{__scopeRadio:a,forceMount:s,...n}=e,o=T(O,a);return r.jsx(d,{present:s||o.checked,children:r.jsx(i.span,{"data-state":X(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})})});U.displayName=O;var G=h.forwardRef(({__scopeRadio:e,control:t,checked:a,bubbles:s=!0,...n},l)=>{const c=h.useRef(null),d=o(c,l),f=u(a),p=m(t);return h.useEffect(()=>{const e=c.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(f!==a&&r){const t=new Event("click",{bubbles:s});r.call(e,a),e.dispatchEvent(t)}},[f,a,s]),r.jsx(i.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:d,style:{...n.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function X(e){return e?"checked":"unchecked"}G.displayName="RadioBubbleInput";var $=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Y="RadioGroup",[J,Q]=s(Y,[e,K]),W=e(),Z=K(),[ee,te]=J(Y),ae=h.forwardRef((e,s)=>{const{__scopeRadioGroup:o,name:l,defaultValue:c,value:d,required:u=!1,disabled:m=!1,orientation:f,dir:p,loop:h=!0,onValueChange:x,...v}=e,y=W(o),b=t(p),[g,j]=a({prop:d,defaultProp:c??null,onChange:x,caller:Y});return r.jsx(ee,{scope:o,name:l,required:u,disabled:m,value:g,onValueChange:j,children:r.jsx(n,{asChild:!0,...y,orientation:f,dir:b,loop:h,children:r.jsx(i.div,{role:"radiogroup","aria-required":u,"aria-orientation":f,"data-disabled":m?"":void 0,dir:b,...v,ref:s})})})});ae.displayName=Y;var re="RadioGroupItem",se=h.forwardRef((e,t)=>{const{__scopeRadioGroup:a,disabled:s,...n}=e,i=te(re,a),d=i.disabled||s,u=W(a),m=Z(a),f=h.useRef(null),p=o(t,f),x=i.value===n.value,v=h.useRef(!1);return h.useEffect(()=>{const e=e=>{$.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),r.jsx(l,{asChild:!0,...u,focusable:!d,active:x,children:r.jsx(B,{disabled:d,required:i.required,checked:x,...m,...n,name:i.name,ref:p,onCheck:()=>i.onValueChange(n.value),onKeyDown:c(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:c(n.onFocus,()=>{v.current&&f.current?.click()})})})});se.displayName=re;var ne=h.forwardRef((e,t)=>{const{__scopeRadioGroup:a,...s}=e,n=Z(a);return r.jsx(U,{...n,...s,ref:t})});ne.displayName="RadioGroupIndicator";var ie=ae,oe=se,le=ne;const ce=h.forwardRef(({className:e,...t},a)=>r.jsx(ie,{className:S("grid gap-2",e),...t,ref:a}));ce.displayName=ie.displayName;const de=h.forwardRef(({className:e,...t},a)=>r.jsx(oe,{ref:a,className:S("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(le,{className:"flex items-center justify-center",children:r.jsx(z,{className:"h-3.5 w-3.5 fill-primary"})})}));de.displayName=oe.displayName;var ue=["PageUp","PageDown"],me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},pe="Slider",[he,xe,ve]=f(pe),[ye,be]=s(pe,[ve]),[ge,je]=ye(pe),we=h.forwardRef((e,t)=>{const{name:s,min:n=0,max:i=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[n],value:f,onValueChange:x=()=>{},onValueCommit:v=()=>{},inverted:y=!1,form:b,...g}=e,j=h.useRef(new Set),w=h.useRef(0),N="horizontal"===l?ke:_e,[S=[],k]=a({prop:f,defaultProp:m,onChange:e=>{const t=[...j.current];t[w.current]?.focus(),x(e)}}),_=h.useRef(S);function R(e,t,{commit:a}={commit:!1}){const r=function(e){return(String(e).split(".")[1]||"").length}(o),s=function(e,t){const a=Math.pow(10,t);return Math.round(e*a)/a}(Math.round((e-n)/o)*o+n,r),l=p(s,[n,i]);k((e=[])=>{const r=function(e=[],t,a){const r=[...e];return r[a]=t,r.sort((e,t)=>e-t)}(e,l,t);if(function(e,t){if(t>0){const a=function(e){return e.slice(0,-1).map((t,a)=>e[a+1]-t)}(e);return Math.min(...a)>=t}return!0}(r,u*o)){w.current=r.indexOf(l);const t=String(r)!==String(e);return t&&a&&v(r),t?r:e}return e})}return r.jsx(ge,{scope:e.__scopeSlider,name:s,disabled:d,min:n,max:i,valueIndexToChangeRef:w,thumbs:j.current,values:S,orientation:l,form:b,children:r.jsx(he.Provider,{scope:e.__scopeSlider,children:r.jsx(he.Slot,{scope:e.__scopeSlider,children:r.jsx(N,{"aria-disabled":d,"data-disabled":d?"":void 0,...g,ref:t,onPointerDown:c(g.onPointerDown,()=>{d||(_.current=S)}),min:n,max:i,inverted:y,onSlideStart:d?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const a=e.map(e=>Math.abs(e-t)),r=Math.min(...a);return a.indexOf(r)}(S,e);R(e,t)},onSlideMove:d?void 0:function(e){R(e,w.current)},onSlideEnd:d?void 0:function(){const e=_.current[w.current];S[w.current]!==e&&v(S)},onHomeKeyDown:()=>!d&&R(n,0,{commit:!0}),onEndKeyDown:()=>!d&&R(i,S.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!d){const a=ue.includes(e.key)||e.shiftKey&&me.includes(e.key)?10:1,r=w.current;R(S[r]+o*a*t,r,{commit:!0})}}})})})})});we.displayName=pe;var[Ne,Se]=ye(pe,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ke=h.forwardRef((e,a)=>{const{min:s,max:n,dir:i,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:u,onStepKeyDown:m,...f}=e,[p,x]=h.useState(null),v=o(a,e=>x(e)),y=h.useRef(void 0),b=t(i),g="ltr"===b,j=g&&!l||!g&&l;function w(e){const t=y.current||p.getBoundingClientRect(),a=Ve([0,t.width],j?[s,n]:[n,s]);return y.current=t,a(e-t.left)}return r.jsx(Ne,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:r.jsx(Re,{dir:b,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=w(e.clientX);c?.(t)},onSlideMove:e=>{const t=w(e.clientX);d?.(t)},onSlideEnd:()=>{y.current=void 0,u?.()},onStepKeyDown:e=>{const t=fe[j?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:t?-1:1})}})})}),_e=h.forwardRef((e,t)=>{const{min:a,max:s,inverted:n,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,m=h.useRef(null),f=o(t,m),p=h.useRef(void 0),x=!n;function v(e){const t=p.current||m.current.getBoundingClientRect(),r=Ve([0,t.height],x?[s,a]:[a,s]);return p.current=t,r(e-t.top)}return r.jsx(Ne,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:r.jsx(Re,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=v(e.clientY);i?.(t)},onSlideMove:e=>{const t=v(e.clientY);l?.(t)},onSlideEnd:()=>{p.current=void 0,c?.()},onStepKeyDown:e=>{const t=fe[x?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),Re=h.forwardRef((e,t)=>{const{__scopeSlider:a,onSlideStart:s,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:u,...m}=e,f=je(pe,a);return r.jsx(i.span,{...m,ref:t,onKeyDown:c(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):ue.concat(me).includes(e.key)&&(u(e),e.preventDefault())}),onPointerDown:c(e.onPointerDown,e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),f.thumbs.has(t)?t.focus():s(e)}),onPointerMove:c(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:c(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),o(e))})})}),Pe="SliderTrack",Ee=h.forwardRef((e,t)=>{const{__scopeSlider:a,...s}=e,n=je(Pe,a);return r.jsx(i.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:t})});Ee.displayName=Pe;var Ce="SliderRange",De=h.forwardRef((e,t)=>{const{__scopeSlider:a,...s}=e,n=je(Ce,a),l=Se(Ce,a),c=h.useRef(null),d=o(t,c),u=n.values.length,m=n.values.map(e=>ze(e,n.min,n.max)),f=u>1?Math.min(...m):0,p=100-Math.max(...m);return r.jsx(i.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...s,ref:d,style:{...e.style,[l.startEdge]:f+"%",[l.endEdge]:p+"%"}})});De.displayName=Ce;var Me="SliderThumb",Ae=h.forwardRef((e,t)=>{const a=xe(e.__scopeSlider),[s,n]=h.useState(null),i=o(t,e=>n(e)),l=h.useMemo(()=>s?a().findIndex(e=>e.ref.current===s):-1,[a,s]);return r.jsx(Ie,{...e,ref:i,index:l})}),Ie=h.forwardRef((e,t)=>{const{__scopeSlider:a,index:s,name:n,...l}=e,d=je(Me,a),u=Se(Me,a),[f,p]=h.useState(null),x=o(t,e=>p(e)),v=!f||(d.form||!!f.closest("form")),y=m(f),b=d.values[s],g=void 0===b?0:ze(b,d.min,d.max),j=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,d.values.length),w=y?.[u.size],N=w?function(e,t,a){const r=e/2,s=Ve([0,50],[0,r]);return(r-s(t)*a)*a}(w,g,u.direction):0;return h.useEffect(()=>{if(f)return d.thumbs.add(f),()=>{d.thumbs.delete(f)}},[f,d.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${g}% + ${N}px)`},children:[r.jsx(he.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(i.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":d.min,"aria-valuenow":b,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...l,ref:x,style:void 0===b?{display:"none"}:e.style,onFocus:c(e.onFocus,()=>{d.valueIndexToChangeRef.current=s})})}),v&&r.jsx(Le,{name:n??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:b},s)]})});Ae.displayName=Me;var Le=h.forwardRef(({__scopeSlider:e,value:t,...a},s)=>{const n=h.useRef(null),l=o(n,s),c=u(t);return h.useEffect(()=>{const e=n.current;if(!e)return;const a=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(a,"value").set;if(c!==t&&r){const a=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(a)}},[c,t]),r.jsx(i.input,{style:{display:"none"},...a,ref:l,defaultValue:t})});function ze(e,t,a){return p(100/(a-t)*(e-t),[0,100])}function Ve(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(a-e[0])}}Le.displayName="RadioBubbleInput";var Fe=we,He=Ee,Ke=De,qe=Ae;const Te=h.forwardRef(({className:e,...t},a)=>r.jsxs(Fe,{ref:a,className:S("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(He,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(Ke,{className:"absolute h-full bg-primary"})}),r.jsx(qe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Te.displayName=Fe.displayName;var Be="Switch",[Oe,Ue]=s(Be),[Ge,Xe]=Oe(Be),$e=h.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:l,defaultChecked:d,required:u,disabled:m,value:f="on",onCheckedChange:p,form:x,...v}=e,[y,b]=h.useState(null),g=o(t,e=>b(e)),j=h.useRef(!1),w=!y||(x||!!y.closest("form")),[N,S]=a({prop:l,defaultProp:d??!1,onChange:p,caller:Be});return r.jsxs(Ge,{scope:s,checked:N,disabled:m,children:[r.jsx(i.button,{type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":We(N),"data-disabled":m?"":void 0,disabled:m,value:f,...v,ref:g,onClick:c(e.onClick,e=>{S(e=>!e),w&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),w&&r.jsx(Qe,{control:y,bubbles:!j.current,name:n,value:f,checked:N,required:u,disabled:m,form:x,style:{transform:"translateX(-100%)"}})]})});$e.displayName=Be;var Ye="SwitchThumb",Je=h.forwardRef((e,t)=>{const{__scopeSwitch:a,...s}=e,n=Xe(Ye,a);return r.jsx(i.span,{"data-state":We(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t})});Je.displayName=Ye;var Qe=h.forwardRef(({__scopeSwitch:e,control:t,checked:a,bubbles:s=!0,...n},i)=>{const l=h.useRef(null),c=o(l,i),d=u(a),f=m(t);return h.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==a&&r){const t=new Event("click",{bubbles:s});r.call(e,a),e.dispatchEvent(t)}},[d,a,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:c,style:{...n.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function We(e){return e?"checked":"unchecked"}Qe.displayName="SwitchBubbleInput";var Ze=$e,et=Je;const tt=h.forwardRef(({className:e,...t},a)=>r.jsx(Ze,{className:S("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:a,children:r.jsx(et,{className:S("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function at(){const[e,t]=h.useState(null),[a,s]=h.useState(null),[n,i]=h.useState(!0),[o,l]=h.useState(!1),[c,d]=h.useState(null);h.useEffect(()=>{u()},[]);const u=async()=>{i(!0),d(null);try{const e=await x.me();s(e);const a=await v.filter({created_by:e.email},"-created_date",1);if(a.length>0)t(a[0]);else{const a={privacy_tolerance:"moderate",data_sensitivity:{personal_info:3,tracking:4,advertising:3,third_party_sharing:4,data_selling:5,location:4,biometric:5,financial:5,health:5},notification_preferences:{policy_changes:!0,high_risk_alerts:!0,weekly_digest:!1},analysis_history_count:0,total_risk_score:0},r=await v.create({...a,created_by:e.email});t(r)}}catch(e){d("Failed to load your privacy profile. Please try again later.")}finally{i(!1)}};return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4 md:p-8 flex items-center justify-center",children:r.jsx(k,{className:"w-12 h-12 text-blue-400 animate-spin"})}):c&&"Profile saved successfully!"!==c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4 md:p-8 flex items-center justify-center",children:r.jsxs(A,{className:"max-w-lg border-red-500/50 bg-red-500/10",children:[r.jsx(_,{className:"h-4 w-4 text-red-400"}),r.jsx(I,{className:"text-red-400",children:c})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-4 md:p-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[r.jsx("div",{className:"text-center space-y-4",children:r.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 bg-clip-text text-transparent",children:"Privacy Profile"}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Customize your privacy preferences to get personalized analysis and recommendations"})]})}),c&&"Profile saved successfully!"===c&&r.jsxs(A,{className:"border-green-500/50 bg-green-500/10",children:[r.jsx(_,{className:"h-4 w-4 text-green-400"}),r.jsx(I,{className:"text-green-400",children:c})]}),e&&r.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(y,{className:"bg-gray-900/50 border-gray-800/50 backdrop-blur-sm",children:[r.jsx(b,{children:r.jsxs(g,{className:"text-white flex items-center gap-2",children:[r.jsx(L,{className:"w-5 h-5 text-blue-400"}),"Privacy Tolerance Level"]})}),r.jsxs(j,{className:"space-y-4",children:[r.jsxs(ce,{value:e?.privacy_tolerance||"moderate",onValueChange:e=>{return a={privacy_tolerance:e},void t(e=>({...e,...a}));var a},children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(de,{value:"strict",id:"strict"}),r.jsx(M,{htmlFor:"strict",className:"text-white",children:"Strict"}),r.jsx(w,{variant:"outline",className:"border-red-500/50 text-red-400",children:"Maximum Protection"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(de,{value:"moderate",id:"moderate"}),r.jsx(M,{htmlFor:"moderate",className:"text-white",children:"Moderate"}),r.jsx(w,{variant:"outline",className:"border-yellow-500/50 text-yellow-400",children:"Balanced"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(de,{value:"relaxed",id:"relaxed"}),r.jsx(M,{htmlFor:"relaxed",className:"text-white",children:"Relaxed"}),r.jsx(w,{variant:"outline",className:"border-green-500/50 text-green-400",children:"Minimal Alerts"})]})]}),r.jsx("p",{className:"text-sm text-gray-400",children:(e=>{switch(e){case"strict":return"Maximum privacy protection. Flag most data usage practices.";case"moderate":return"Balanced approach. Alert on concerning practices only.";case"relaxed":return"Minimal alerts. Focus on critical privacy violations only.";default:return""}})(e?.privacy_tolerance)})]})]}),r.jsxs(y,{className:"bg-gray-900/50 border-gray-800/50 backdrop-blur-sm",children:[r.jsx(b,{children:r.jsxs(g,{className:"text-white flex items-center gap-2",children:[r.jsx(P,{className:"w-5 h-5 text-blue-400"}),"Data Sensitivity Preferences"]})}),r.jsx(j,{className:"grid md:grid-cols-2 gap-x-8 gap-y-6",children:Object.entries(e.data_sensitivity).map(([e,a])=>r.jsxs("div",{children:[r.jsx(M,{className:"capitalize text-gray-300",children:e.replace(/_/g," ")}),r.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[r.jsx(Te,{value:[a],onValueChange:([a])=>((e,a)=>{t(t=>({...t,data_sensitivity:{...t.data_sensitivity,[e]:a}}))})(e,a),min:1,max:5,step:1,className:"w-full"}),r.jsx(w,{variant:"outline",className:"border-gray-700 w-24 justify-center",children:["Very Low","Low","Medium","High","Very High"][a-1]})]})]},e))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(y,{className:"bg-gray-900/50 border-gray-800/50 backdrop-blur-sm",children:[r.jsx(b,{children:r.jsxs(g,{className:"text-white flex items-center gap-2",children:[r.jsx(E,{className:"w-5 h-5 text-blue-400"}),"Profile Summary"]})}),r.jsxs(j,{className:"space-y-4",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"w-12 h-12 mx-auto bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold",children:a?.full_name?.[0]||"U"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:a?.full_name||"User"}),r.jsx("p",{className:"text-sm text-gray-400",children:a?.email})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Privacy Stance"}),r.jsx("span",{className:"text-white capitalize",children:e?.privacy_tolerance||"Moderate"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Analyses Done"}),r.jsx("span",{className:"text-white",children:e?.analysis_history_count||0})]})]})]})]}),r.jsxs(y,{className:"bg-gray-900/50 border-gray-800/50 backdrop-blur-sm",children:[r.jsx(b,{children:r.jsxs(g,{className:"text-white flex items-center gap-2",children:[r.jsx(C,{className:"w-5 h-5 text-blue-400"}),"Notifications"]})}),r.jsx(j,{className:"space-y-4",children:Object.entries(e.notification_preferences).map(([e,a])=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[r.jsx(M,{htmlFor:e,className:"text-gray-300 capitalize",children:e.replace(/_/g," ")}),r.jsx(tt,{id:e,checked:a,onCheckedChange:a=>((e,a)=>{t(t=>({...t,notification_preferences:{...t.notification_preferences,[e]:a}}))})(e,a)})]},e))})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(D,{onClick:async()=>{l(!0),d(null);try{e&&e.id?(await v.update(e.id,e),d("Profile saved successfully!")):d("Profile not found or not initialized for saving.")}catch(t){d("Failed to save your profile. Please check your connection and try again.")}finally{l(!1)}},disabled:o,className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium px-8 py-3 rounded-xl shadow-lg",children:o?r.jsxs(r.Fragment,{children:[r.jsx(k,{className:"w-5 h-5 mr-2 animate-spin"})," Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(V,{className:"w-5 h-5 mr-2"})," Save Changes"]})})})]})]})]})})}tt.displayName=Ze.displayName;export{at as default};
